import streamlit as st
import random

# ---------------------------
# –í–æ–ø—Ä–æ—Å—ã —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π LaTeX –∏ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –æ—Ç–≤–µ—Ç–æ–≤
# ---------------------------
questions = [
    {
        "question": "–§–æ—Ä–º—É–ª–∞ y = A * e^(-a * x^2) —Å”ô–π–∫–µ—Å –∫–µ–ª–µ—Ç—ñ–Ω “õ–∏—Å—ã“õ –∞—Ç—ã “õ–∞–Ω–¥–∞–π?",
        "options": [
            "–¢—É—ã–Ω–¥—ã “õ–∞—Ç–µ–Ω—ñ“£ “õ–∏—Å—ã“ì—ã", "–ì–∞—É—Å—Å “õ–∞—Ç–µ–Ω—ñ“£ “õ–∏—Å—ã“ì—ã", "–ë”©–ª—à–µ–∫—Ç—ñ–∫ “õ–∞—Ç–µ–Ω—ñ“£ “õ–∏—Å—ã“ì—ã",
            "–°–∞–ª—ã—Å—Ç—ã—Ä–º–∞–ª—ã “õ–∞—Ç–µ–Ω—ñ“£ “õ–∏—Å—ã“ì—ã", "–ê–±—Å–æ–ª—é—Ç “õ–∞—Ç–µ–Ω—ñ“£ “õ–∏—Å—ã“ì—ã", "–î–∂–æ—É–ª—å “õ–∞—Ç–µ–Ω—ñ“£ “õ–∏—Å—ã“ì—ã",
            "–ù—å—é—Ç–æ–Ω “õ–∞—Ç–µ–Ω—ñ“£ “õ–∏—Å—ã“ì—ã", "–†–µ–∑–µ—Ä—Ñ–æ—Ä–¥ “õ–∞—Ç–µ–Ω—ñ“£ “õ–∏—Å—ã“ì—ã"
        ],
        "correct": ["–ì–∞—É—Å—Å “õ–∞—Ç–µ–Ω—ñ“£ “õ–∏—Å—ã“ì—ã"]
    },
    {
        "question": "–ì–∞—É—Å—Å –∫–∞—Ç–µ–≥–æ—Ä–∏—è—Å—ã–Ω–¥–∞“ì—ã A —Ç“±—Ä–∞“õ—Ç—ã—Å—ã–Ω Œ± –∞—Ä“õ—ã–ª—ã ”©—Ä–Ω–µ–∫—Ç–µ:",
        "latex": r"\int_{-\infty}^{+\infty} e^{-\alpha x^2} dx = 1",
        "options": [
            "A = ‚àö(Œ± / 6œÄ)", "A = ‚àö(Œ± / 2œÄ)", "A = ‚àö(Œ± / 8œÄ)",
            "A = ‚àö(Œ± / 3œÄ)", "A = ‚àö(Œ± / 4œÄ)", "A = ‚àö(Œ± / œÄ)"
        ],
        "correct": ["A = ‚àö(Œ± / œÄ)"]
    },
    {
        "question": "–ù–∞“õ—Ç—ã –≥–∞–∑–¥–∞“ì—ã Œ± –∂”ô–Ω–µ b —Ç“Ø–∑–µ—Ç—É–ª–µ—Ä–¥—ñ“£ ”©–ª—à–µ–º –±—ñ—Ä–ª—ñ–≥—ñ “õ–∞–Ω–¥–∞–π?",
        "options": [
            "[a] = –ü–∞¬∑–º¬≥ / –º–æ–ª—å, [b] = –º¬≥ / –º–æ–ª—å",
            "[a] = –ü–∞¬∑–º¬π¬≤ / –º–æ–ª—å¬≥, [b] = –º‚Å∂ / –º–º–æ–ª—å",
            "[a] = –ü–∞¬∑–º¬π¬≤ / –º–æ–ª—å¬≥, [b] = –º¬≥ / –º–æ–ª—å¬≥",
            "[a] = –ü–∞¬∑–º‚Å∂ / –º–æ–ª—å¬≤, [b] = –º¬≥ / –º–æ–ª—å",
            "[a] = –ü–∞¬∑–º‚Å∂ / –º–æ–ª—å¬≤, [b] = 1 / –º–æ–ª—å",
            "[a] = –ü–∞¬∑–º‚Å∂ / –º–æ–ª—å¬≤, [b] = –º‚Å∂ / –º–º–æ–ª—å"
        ],
        "correct": ["[a] = –ü–∞¬∑–º‚Å∂ / –º–æ–ª—å¬≤, [b] = –º¬≥ / –º–æ–ª—å"]
    },
    {
        "question": "–†–µ–ø–µ—Ä–ª—ñ–∫ –Ω“Ø–∫—Ç–µ —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞—Å—ã “õ–∞–Ω–¥–∞–π?",
        "options": [
            "273,16 –≥—Ä–∞–¥—É—Å", "473,16 –≥—Ä–∞–¥—É—Å", "277,16 –≥—Ä–∞–¥—É—Å",
            "273,96 –≥—Ä–∞–¥—É—Å", "275,16 –≥—Ä–∞–¥—É—Å", "373,16 –≥—Ä–∞–¥—É—Å",
            "289,16 –≥—Ä–∞–¥—É—Å", "278,16 –≥—Ä–∞–¥—É—Å"
        ],
        "correct": ["273,16 –≥—Ä–∞–¥—É—Å"]
    },
    {
        "question": "–ñ—ã–ª—É –º–∞—à–∏–Ω–∞—Å—ã–Ω—ã“£ –ü”ò–ö —Ñ–æ—Ä–º—É–ª–∞—Å—ã “õ–∞–Ω–¥–∞–π?",
        "options": [
            "Œ∑ = Q‚ÇÅ / A", "Œ∑ = Q‚ÇÇQ‚ÇÅ / Q‚ÇÅ", "Œ∑ = (T‚ÇÅ ‚àí T‚ÇÇ) / T‚ÇÅ",
            "Œ∑ = A / Q‚ÇÅ", "Œ∑ = (Q‚ÇÅ ‚àí Q‚ÇÇ) / Q‚ÇÅ", "Œ∑ = (T‚ÇÅ + T‚ÇÇ) / T‚ÇÅ"
        ],
        "correct": ["Œ∑ = (T‚ÇÅ ‚àí T‚ÇÇ) / T‚ÇÅ"]
    },
    {
        "question": "“ö–∞–ª—ã–ø—Ç—ã “õ—ã—Å—ã–º–¥–∞, 0¬∞C —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞–¥–∞ 1 —Å–º¬≥ –∞—É–∞–¥–∞“ì—ã –º–æ–ª–µ–∫—É–ª–∞ —Å–∞–Ω—ã “õ–∞–Ω—à–∞?",
        "options": [
            "0,27 * 10¬≤‚Å∞", "27 * 10¬π‚Å∏", "6,7 * 10¬π‚Åπ",
            "2,7 * 10¬π‚Åπ", "627 * 10¬≤‚Å∞", "67 * 10¬π‚Å∏", "6,27 * 10¬≤‚Å∞"
        ],
        "correct": ["2,7 * 10¬π‚Åπ"]
    },
    {
        "question": "–¢–µ—Ä–º–æ–¥–∏–Ω–∞–º–∏–∫–∞–ª—ã“õ –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª–¥–∞—Ä (–ö–∞–Ω–æ–Ω–∏–∫–∞–ª—ã“õ –∫“Ø–π —Ç–µ“£–¥–µ—É–ª–µ—Ä—ñ): “õ–∞–π —Ç–µ“£–¥–µ—É –¥“±—Ä—ã—Å?",
        "options": [
            "I = I(W, Q)", "Œ® = Œ®(V, T, S)", "I = I(S, P)",
            "U = U(Q, T)", "U = U(P, S, V)", "Œ® = Œ®(T, S)",
            "U = U(P, S, T, Y)", "U = U(S, V)"
        ],
        "correct": ["Œ® = Œ®(V, T, S)"]
    },
    {
        "question": "–ñ“Ø–π–µ–≥–µ dQ –∂—ã–ª—É –±–µ—Ä—ñ–ª–≥–µ–Ω–¥–µ –æ–Ω—ã“£ —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞—Å—ã–Ω—ã“£ dT-“ì–∞ ”©–∑–≥–µ—Ä–≥–µ–Ω–¥–µ–≥—ñ –∂—ã–ª—É—Å—ã–π—ã–º–¥—ã–ª—ã“ì—ã C –Ω–µ–≥–µ —Ç–µ“£?",
        "options": [
            "C = Œ¥Q / dT √ó dT", "C = Œ¥Q √ó dT", "C = Œ¥Q ‚àí dT",
            "C = dT ‚àí Œ¥Q", "C = Œ¥Q + dT", "C = Œ¥Q / dT", "C = dT / Œ¥Q"
        ],
        "correct": ["C = Œ¥Q / dT"]
    },
    {
        "question": "–ê–≤–æ–≥–∞–¥—Ä–æ —Å–∞–Ω—ã–Ω—ã“£ ”©—Ä–Ω–µ–≥—ñ “õ–∞–Ω–¥–∞–π?",
        "options": [
            "N‚Çê = R / k", "N‚Çê = 2k / R", "N‚Çê = k / R",
            "N‚Çê = 2R / 5k", "N‚Çê = c / k", "N‚Çê = 5 / k", "N‚Çê = 2R / k"
        ],
        "correct": ["N‚Çê = R / k"]
    },
    {
        "question": "–¢”©–º–µ–Ω–Ω–µ–Ω –∂–æ“ì–∞—Ä—ã “±—à—ã–ø –±–∞—Ä–∞ –∂–∞—Ç“õ–∞–Ω –º–æ–ª–µ–∫—É–ª–∞–ª–∞—Ä –±–µ—Ä–µ—Ç—ñ–Ω “õ–æ–∑“ì–∞–ª—ã—Å —Å–∞–Ω—ã “Ø—à—ñ–Ω –¥“±—Ä—ã—Å ”©—Ä–Ω–µ–∫ “õ–∞–Ω–¥–∞–π?",
        "latex": r"G_+ = \frac{1}{3} n \vartheta g_0 + \frac{1}{6} n \vartheta \lambda \frac{dg}{dx}",
        "options": [
            "G‚Çä = 1/7 nœëg‚ÇÄ + 1/6 nœëŒª dg/dx",
            "G‚Çä = 1/6 nœëg‚ÇÄ ‚àí 1/6 nœëŒª dg/dx",
            "G‚Çä = 1/3 nœëg‚ÇÄ + 1/6 nœëŒª dg/dx",
            "G‚Çä = 1/5 nœëg‚ÇÄ √ó 1/6 nœëŒª dg/dx",
            "G‚Çä = 1/4 nœëg‚ÇÄ + 1/6 nœëŒ∏Œª dg/dx",
            "G‚Çä = 1/2 nœëg‚ÇÄ ‚àí 1/6 nœëŒ∏Œª dg/dx"
        ],
        "correct": ["G‚Çä = 1/3 nœëg‚ÇÄ + 1/6 nœëŒª dg/dx"]
    },
{
    "question": "–í–∞–Ω-–¥–µ—Ä-–í–∞–∞–ª—å—Å —Ç–µ“£–¥–µ—É—ñ–Ω–¥–µ–≥—ñ –∫—Ä–∏—Ç–∏–∫–∞–ª—ã“õ —à–∞–º–∞ –±–∞–π–ª–∞–Ω—ã—Å—ã–Ω –∫”©—Ä—Å–µ—Ç–µ—Ç—ñ–Ω “õ–∞—Ç—ã–Ω–∞—Å—Ç–∞—Ä",
    "options": [
        "Vk = 3a/R",
        "Vk = 3/b",
        "pk = b¬≤a / 7",
        "pk = a / 27b¬≤",
        "Tk = a / R",
        "Vk = 3b",
        "Tk = 8a / 27Rb"
    ],
    "correct": ["pk = a / 27b¬≤", "Vk = 3b", "Tk = 8a / 27Rb"]
},
{
    "question": "Œ∏ = (2/3) * Œµ / k —Ç“±—Ä–∞“õ—Ç—ã —Ñ–æ—Ä–º—É–ª–∞—Å—ã –∞—Ä“õ—ã–ª—ã –∞–Ω—ã“õ—Ç–∞–ª–∞—Ç—ã–Ω Œ∏ —à–∞–º–∞—Å—ã–Ω—ã“£ –∞—Ç–∞—É—ã",
    "latex": r"\theta = \frac{2}{3} \cdot \frac{\varepsilon}{k}",
    "options": [
        "—Ç“±—Ä–∞“õ—Ç—ã —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞", "–ê–≤–æ–≥–∞–¥—Ä–æ —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞—Å—ã", "“ì–∞—Ä—ã—à—Ç—ã“õ —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞",
        "”©–∑–≥–µ—Ä—ñ—Å—Ç—ñ —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞", "—ç–Ω–µ—Ä–≥–µ—Ç–∏–∫–∞–ª—ã“õ —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞", "–ñ–µ—Ä —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞—Å—ã",
        "–∫–∏–Ω–µ—Ç–∏–∫–∞–ª—ã“õ —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞"
    ],
    "correct": ["–∫–∏–Ω–µ—Ç–∏–∫–∞–ª—ã“õ —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞"]
},
{
    "question": "–ö–ª–∞–ø–µ–π—Ä–æ–Ω ‚Äì –ú–µ–Ω–¥–µ–ª–µ–µ–≤ —Ç–µ“£–¥–µ—É—ñ–º–µ–Ω —Å–∏–ø–∞—Ç—Ç–∞–ª–º–∞–π—Ç—ã–Ω –≥–∞–∑",
    "options": [
        "–º–æ–¥–µ–ª—å–¥–µ–Ω–≥–µ–Ω –≥–∞–∑", "”©–∑–∞—Ä–∞ ”ô—Ä–µ–∫–µ—Ç –µ—Å–∫–µ—Ä—ñ–ª–º–µ–π—Ç—ñ–Ω –≥–∞–∑", "–Ω–∞“õ—Ç—ã –∂”ô–Ω–µ –∏–¥–µ–∞–ª –≥–∞–∑",
        "—à—ã–Ω–∞–π—ã –≥–∞–∑", "–Ω–∞“õ—Ç—ã –≥–∞–∑", "–∏–¥–µ–∞–ª –≥–∞–∑"
    ],
    "correct": ["–Ω–∞“õ—Ç—ã –≥–∞–∑", "—à—ã–Ω–∞–π—ã –≥–∞–∑"]
},
{
    "question": "–¢–µ–ø–µ-—Ç–µ“£–¥—ñ–∫ –∫“Ø–π–¥–µ –±—ñ—Ä—ñ–Ω–µ–Ω –∫–µ–π—ñ–Ω –±—ñ—Ä—ñ –æ—Ä—ã–Ω–¥–∞–ª–∞—Ç—ã–Ω –∏–¥–µ–∞–ª–¥–∞–Ω“ì–∞–Ω –ø—Ä–æ—Ü–µ—Å—Ç–µ—Ä–¥–µ –∫–µ“£—ñ–Ω–µ–Ω “õ–æ–ª–¥–∞–Ω—ã–ª–∞—Ç—ã–Ω —Ç–µ—Ä–º–æ–¥–∏–Ω–∞–º–∏–∫–∞–ª—ã“õ —Ç–µ–æ—Ä–∏—è–ª—ã“õ ”ô–¥—ñ—Å—Ç–µ—Ä",
    "options": [
        "–∫–≤–∞–∑–∏ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞–ª—ã“õ", "–∫–∏–Ω–µ–º–∞—Ç–∏–∫–∞–ª—ã“õ ”ô–¥—ñ—Å", "–¥–∏–Ω–∞–º–∏–∫–∞–ª—ã“õ ”ô–¥—ñ—Å",
        "–∫–≤–∞–Ω—Ç—Ç—ã“õ —Ç–µ–ª–µ-—Ç–µ–ø–µ", "–º–æ–ª–µ–∫—É–ª–∞–ª—ã“õ", "–∫–≤–∞–∑–∏ —Ç–µ–ª–µ-—Ç–µ–ø–µ"
    ],
    "correct": ["–∫–≤–∞–∑–∏ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞–ª—ã“õ"]
},
{
    "question": "–ö–ª–∞–ø–µ–π—Ä–æ–Ω-–ö–ª–∞—É–∑–∏—É—Å —Ç–µ“£–¥–µ—É—ñ",
    "latex": r"\frac{dP}{dT} = \frac{q_{12}}{T(\vartheta_2 - \vartheta_1)}",
    "options": [
        "dP/dT = q12 / T(Œ∏2 ‚àí Œ∏1)",
        "dR/dT = q12 / T(Œ∏2 ‚àí Œ∏1)",
        "dT/dT = q12 / T(Œ∏1Œ∏2)",
        "dV/dT = q12 / T(Œ∏2 + Œ∏1)",
        "dP/dT = q12 / T(Œ∏2 + Œ∏1)",
        "dP/dT = q12 / T(Œ∏2 √ó Œ∏1)"
    ],
    "correct": ["dP/dT = q12 / T(Œ∏2 ‚àí Œ∏1)"]
},
{
    "question": "–î–∏—Ñ—Ñ—É–∑–∏—è –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç—ñ –º–µ–Ω –±”©–ª—à–µ–∫—Ç–µ—Ä–¥—ñ“£ “õ–æ–∑“ì–∞–ª—ã—Å—ã –∞—Ä–∞—Å—ã–Ω–¥–∞“ì—ã –±–∞–π–ª–∞–Ω—ã—Å—Ç—ã –∫”©—Ä—Å–µ—Ç–µ—Ç—ñ–Ω –≠–π–Ω—à—Ç–µ–π–Ω —Ñ–æ—Ä–º—É–ª–∞—Å—ã",
    "options": [
        "D = k ‚àí TB", "D = k ‚àí T ‚àí B", "D = kTB",
        "D = kT ‚àí B", "D = k + T ‚àí B", "D = k + TB", "D = k + T + B"
    ],
    "correct": ["D = kT ‚àí B"]
},
{
    "question": "–¢–∞—Ä—Ç—ã—Å ”©—Ä—ñ—Å—ñ –±—ñ—Ä—Ç–µ–∫—Ç—ñ –∏–∑–æ—Ç–µ—Ä–º–∏—è–ª—ã“õ (T —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞–ª—ã) –∂–∞“ì–¥–∞–π–¥–∞ –ñ–µ—Ä –∞—Ç–º–æ—Å—Ñ–µ—Ä–∞—Å—ã–Ω–¥–∞“ì—ã –≥–∞–∑ –º–æ–ª–µ–∫—É–ª–∞—Å—ã–Ω—ã“£ –æ—Ä—Ç–∞—à–∞ –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª–¥—ã“õ —ç–Ω–µ—Ä–≥–∏—è—Å—ã–Ω –µ—Å–µ–ø—Ç–µ—É",
    "options": [
        "‚ü®Œµ‚Çö‚ü© = 2RkT", "c = c·µ•", "c = c‚ÇÄ", "‚ü®Œµ‚Çö‚ü© = 3RT",
        "‚ü®Œµ‚Çö‚ü© = 3RkT", "‚ü®Œµ‚Çö‚ü© = kT", "c = c‚Çö"
    ],
    "correct": ["‚ü®Œµ‚Çö‚ü© = 3RT"]
},
{
    "question": "–ê—Ç–º–æ—Å—Ñ–µ—Ä–∞–ª—ã“õ “õ“±—Ä–∞–ª",
    "options": [
        "—Å–µ–∫—É–Ω–¥–æ–º–µ—Ä", "–≥—Ä–∞–¥—É—Å–Ω–∏–∫", "–ü–∞—Å–∫–∞–ª—å —à–∞—Ä—ã", "–î–∂–æ—É–ª—å —ã–¥—ã—Å—ã",
        "–º“±–∑–¥–∞—Ç“õ—ã—à", "—Å–∞“ì–∞—Ç", "—Ç–µ—Ä–º–æ—Å", "–¥–∏–Ω–∞–º–æ–º–µ—Ç—Ä"
    ],
    "correct": ["–ü–∞—Å–∫–∞–ª—å —à–∞—Ä—ã"]
}
]

# ---------------------------
# Streamlit Web App
# ---------------------------
st.title("üß™ –û–Ω–ª–∞–π–Ω —Ç–µ—Å—Ç —Å —Ñ–æ—Ä–º—É–ª–∞–º–∏ –∏ –Ω–µ—Å–∫–æ–ª—å–∫–∏–º–∏ –æ—Ç–≤–µ—Ç–∞–º–∏")

if "selected" not in st.session_state:
    st.session_state.selected = random.sample(questions, 10)

user_answers = {}

with st.form("quiz"):
    for i, q in enumerate(st.session_state.selected, 1):
        st.subheader(f"{i}. {q['question']}")
        if "latex" in q:
            st.latex(q["latex"])

        user_answers[i] = st.multiselect("–í—ã–±–µ—Ä–∏—Ç–µ –æ—Ç–≤–µ—Ç(—ã):", q["options"], key=f"q{i}")

    submitted = st.form_submit_button("–ü—Ä–æ–≤–µ—Ä–∏—Ç—å")

# ---------------------------
# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
# ---------------------------
if submitted:
    score = 0
    st.markdown("---")
    st.subheader("üìä –†–µ–∑—É–ª—å—Ç–∞—Ç—ã:")

    for i, q in enumerate(st.session_state.selected, 1):
        correct_set = set(q["correct"])
        user_set = set(user_answers[i])

        if user_set == correct_set:
            st.success(f"{i}. ‚úÖ –í–µ—Ä–Ω–æ")
            score += 1
        else:
            st.error(f"{i}. ‚ùå –ù–µ–≤–µ—Ä–Ω–æ")
            st.markdown(f"–ü—Ä–∞–≤–∏–ª—å–Ω—ã–π –æ—Ç–≤–µ—Ç: **{', '.join(correct_set)}**")

    st.markdown(f"### ‚úÖ –ò—Ç–æ–≥: {score} –∏–∑ {len(st.session_state.selected)}")
